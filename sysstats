#!/bin/env bash

cpu_load() {
    load="$(awk '{print $1}' /proc/loadavg)"
    echo "  $load%"
}

disk_usage() {
    disk_info=$(df -h / | tail -1)
    total=$(echo $disk_info | awk '{print $2}')
    used=$(echo $disk_info | awk '{print $3}')
    echo "󰋊 $used/$total"
}

memory_usage() {
    used="$(free -h | awk 'NR==2 {print $3}')"
    total="$(free -h | awk 'NR==2 {print $2}')"
    echo "󰍛 $used/$total"
}

wifi_status() {
    current=$(iwgetid -r)
    echo "󰖩 $current"
}

all_stats() {
    echo "$(disk_usage) | $(memory_usage) | $(cpu_load) | $(wifi_status)"
}

case "$1" in
    cpu)
        cpu_load
        ;;
    mem)
        memory_usage
        ;;
    disk)
        disk_usage
        ;;
    wifi)
        wifi_status
        ;;
    all)
        all_stats
        ;;
    *)
        echo "Usage: $0 {cpu|disk|mem|wifi|all}"
        ;;
esac
